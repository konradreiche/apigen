<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href = "style.css" />
  <link rel="stylesheet" href="prism.css" />
  <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" />
  <title></title>
</head>
<body>
  <nav>
    <div class="header">
      <div class="brand">
        <img class="logo" src="logo.png" />
      </div>
      <div class="title">
        <a href="index.html">API Reference</a>
      </div>
    </div>
  </nav>
  <div class="wrapper">
    <div class="flex-container">
      <aside>
        <h2>API Methods</h2>
        <ul>
          <li><a class="link Login" href="#Login" data-target="Login">Login</a></li>
          <li><a class="link CreatePost" href="#CreatePost" data-target="CreatePost">Create Post</a></li>
          <li><a class="link GetFeed" href="#GetFeed" data-target="GetFeed">Get Feed</a></li>
          <li><a class="link FollowUser" href="#FollowUser" data-target="FollowUser">Follow User</a></li>
        </ul>
      </aside>
      <main class="general selected">
        <section class="description">
          <h1>Introduction</h1>
          <p>
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis finibus, urna eget vestibulum imperdiet, ante est placerat urna, at tincidunt urna tellus posuere erat. Sed non maximus odio. Nullam sagittis ex eu urna molestie viverra ut in lacus. Sed sit amet ex tincidunt magna condimentum pretium nec id lectus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Pellentesque eu felis varius, pulvinar nunc eget, luctus lorem. Quisque et urna consectetur, dapibus leo vel, rhoncus nibh. Sed semper orci quis mollis dictum. Nunc pellentesque velit sit amet elementum mattis. Pellentesque tortor massa, auctor eu dolor vel, molestie egestas nisl.

</p>
          <h2>Conventions</h2>
          <p>Vivamus quis pharetra quam. Maecenas ac enim eget lacus suscipit ornare.</p>
          <ul>
            <li>Aliquam semper, nunc ultrices sollicitudin congue</li>
            <li>tellus justo viverra nisi, elementum pharetra sapien tellus ac ex.</li>
            <li>Etiam efficitur imperdiet viverra</li>
            <li>Mauris nec purus at lacus sollicitudin pretium.</li>
          </ul>
          <h2>Example</h2>
          <pre><code class="language-json">// Request
{
  "method": "signup",
  "requestID": "a8372aaf-ae3d-4ccb-9ab7-054c31d0ec52",
  "data": {
    "username": "chad",
    "password": "secret"
  }
}

// Response
{
  "method": "signup",
  "ack": "a8372aaf-ae3d-4ccb-9ab7-054c31d0ec52",
  "data": {
    "user": {
      "id": "bb100fc4-29b6-4e2f-b19c-549687b27125",
      "displayName": "Chad Unicorn",
      "firstName": "Chad",
      "lastName": "Unicorn",
      "email": "chad@unicorn.com",
    },
    "session": {
      "id": "aa5706e4-baf8-4011-aad0-6d8d55730b8b",
      "userID": "bb100fc4-29b6-4e2f-b19c-549687b27125"
    }
  }
}</code></pre>
        </section>
      </main>
      
        <main class="endpoint Login">
          <section class="description">
            <h1>Login</h1>
            <p>Authenticates a user and generates a session ID returned to the client.
</p>
          </section>
          
          <section class="parameter">
            <h2>Parameters</h2>
            <table>
              <thead>
                <tr>
                  <th>Field</th>
                  <th>Type</th>
                  <th>Description</th>
                </tr>
              </thead>
              <tbody>
                
                <tr>
                  <td><code>username</code></td>
                  <td><code>string</code></td>
                  <td>Username is used for logging the user in.
</td>
                </tr>
              
                <tr>
                  <td><code>password</code></td>
                  <td><code>string</code></td>
                  <td>Password is used for logging the user in.
</td>
                </tr>
              
              </tbody>
            </table>
          </section>
          
          
          <section class="response">
            <h2>Response</h2>
            <p>Type Object</p>
            
            <table>
              <thead>
                <tr>
                  <th>Field</th>
                  <th>Type</th>
                  <th>Description</th>
                </tr>
              </thead>
              <tbody>
                
                <tr>
                  <td><code>id</code></td>
                  <td><code>uuid.UUID</code></td>
                  <td>SessionID identifies the session cookie as UUID.
</td>
                </tr>
              
              </tbody>
            </table>
            
          </section>
          
          
            <section class="example">
              <h2>Request Example</h2>
              <p>Logging a user with username and password in.
</p>
              <pre><code class="language-json">{
  &#34;rpc&#34;: &#34;login&#34;,
  &#34;requestID&#34;: &#34;1a78ef38-b37d-42ad-a20d-bda8257390a5&#34;,
  &#34;data&#34;: {
    &#34;username&#34;: &#34;chad&#34;,
    &#34;password&#34;: &#34;secret&#34;
  }
}</code></pre>
              <h2>Response Example</h2>
              <pre><code class="language-json">{
  &#34;rpc&#34;: &#34;login&#34;,
  &#34;ack&#34;: &#34;1a78ef38-b37d-42ad-a20d-bda8257390a5&#34;,
  &#34;data&#34;: {
    &#34;id&#34;: &#34;00000000-0000-0000-0000-000000000000&#34;
  }
}</code></pre>
            </section>
          
        </main>
      
        <main class="endpoint CreatePost">
          <section class="description">
            <h1>Create Post</h1>
            <p>Creates a new post and enters it to th feeds of the users following the author.
</p>
          </section>
          
          <section class="parameter">
            <h2>Parameters</h2>
            <table>
              <thead>
                <tr>
                  <th>Field</th>
                  <th>Type</th>
                  <th>Description</th>
                </tr>
              </thead>
              <tbody>
                
                <tr>
                  <td><code>body</code></td>
                  <td><code>string</code></td>
                  <td>Body is the post&#39;s content written in Markdown syntax.
</td>
                </tr>
              
                <tr>
                  <td><code>url</code></td>
                  <td><code>string</code></td>
                  <td>URL associates the post with a link.
</td>
                </tr>
              
              </tbody>
            </table>
          </section>
          
          
          <section class="response">
            <h2>Response</h2>
            <p>Type Object</p>
            
            <table>
              <thead>
                <tr>
                  <th>Field</th>
                  <th>Type</th>
                  <th>Description</th>
                </tr>
              </thead>
              <tbody>
                
                <tr>
                  <td><code>id</code></td>
                  <td><code>int</code></td>
                  <td>ID identifies the newly created post.
</td>
                </tr>
              
              </tbody>
            </table>
            
          </section>
          
          
        </main>
      
        <main class="endpoint GetFeed">
          <section class="description">
            <h1>Get Feed</h1>
            <p>Retrieves the feed for the given user.
</p>
          </section>
          
          <section class="parameter">
            <h2>Parameters</h2>
            <table>
              <thead>
                <tr>
                  <th>Field</th>
                  <th>Type</th>
                  <th>Description</th>
                </tr>
              </thead>
              <tbody>
                
                <tr>
                  <td><code>pageSize</code></td>
                  <td><code>int</code></td>
                  <td>PerPage specifies the number of posts returned per request.
</td>
                </tr>
              
                <tr>
                  <td><code>pageNumber</code></td>
                  <td><code>int</code></td>
                  <td>Page for pagination; the page to retrieve.
</td>
                </tr>
              
              </tbody>
            </table>
          </section>
          
          
          <section class="response">
            <h2>Response</h2>
            <p>Type Object</p>
            
            <table>
              <thead>
                <tr>
                  <th>Field</th>
                  <th>Type</th>
                  <th>Description</th>
                </tr>
              </thead>
              <tbody>
                
                <tr>
                  <td><code>posts</code></td>
                  <td><code>Array</code></td>
                  <td>Posts is the lists of all posts.
</td>
                </tr>
              
              </tbody>
            </table>
            
          </section>
          
          
        </main>
      
        <main class="endpoint FollowUser">
          <section class="description">
            <h1>Follow User</h1>
            <p></p>
          </section>
          
          <section class="parameter">
            <h2>Parameters</h2>
            <table>
              <thead>
                <tr>
                  <th>Field</th>
                  <th>Type</th>
                  <th>Description</th>
                </tr>
              </thead>
              <tbody>
                
                <tr>
                  <td><code>userID</code></td>
                  <td><code>int</code></td>
                  <td></td>
                </tr>
              
              </tbody>
            </table>
          </section>
          
          
          
        </main>
      
    </div>
  </div>
  <script src="prism.js"></script>
  <script>
    const hash = location.hash.split('#')[1]
    if (hash !== undefined) {
      const general = document.querySelector('main.selected')
      general.classList.toggle('selected')

      const current = document.querySelector(`main.${hash}`)
      current.classList.toggle("selected")

      const link = document.querySelector(`aside a.${hash}`)
      link.classList.toggle("selected")
    }

    const endpoints = document.getElementsByClassName('endpoint')
    const mains = document.getElementsByTagName('main')
    const links = document.getElementsByClassName('link')

    for (i = 0; i < links.length; i++) {
      links[i].onclick = function(event) {
        for (j = 0; j < links.length; j++) {
          links[j].setAttribute("class", "link")
        }
        event.target.setAttribute("class", "link selected")
        id = event.target.dataset.target
        const endpoint = document.getElementsByClassName(`endpoint ${id}`)

        for (j = 0; j < mains.length; j++) {
          mains[j].style.display = "none"
        }
        endpoint[0].style.display = "block"
      }
    }
  </script>
</body>
</html>
